<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minecraft Shaders Repo - Patches</title>
  <style>
    body{font-family:"Tahoma","Verdana",sans-serif;background:#fff;color:#111;margin:0;line-height:1.6;}
    header{background:#111;color:#fff;padding:10px 0;}
    nav{max-width:900px;margin:0 auto;display:flex;justify-content:space-between;align-items:center;padding:0 15px;}
    nav h1{font-size:1.2rem;font-weight:bold;}
    nav ul{list-style:none;display:flex;gap:20px;margin:0;padding:0;}
    nav a{color:#fff;text-decoration:none;font-weight:bold;}
    nav a:hover{text-decoration:underline;}
    main{max-width:900px;margin:20px auto;padding:0 15px;}
    .patch-item{border:1px solid #ddd;border-radius:6px;padding:15px;margin-bottom:20px;}
    .patch-item h2{margin:0 0 8px 0;}
    .downloads{margin-top:10px;}
    .btn{display:inline-block;padding:6px 12px;margin-right:6px;background:#0078d7;color:#fff;text-decoration:none;border-radius:4px;font-size:.9rem;}
    .btn:hover{background:#005ea6;}
    footer{border-top:1px solid #ddd;text-align:center;font-size:.85rem;color:#555;padding:15px;margin-top:30px;}
  </style>
</head>
<body>
  <header>
    <nav>
      <h1>Minecraft Shaders Repo</h1>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="patches.html">Patches</a></li>
        <li><a href="shaders.html">Shaders</a></li>
        <li><a href="links.html">Links</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <h2>Patched Minecraft Versions</h2>
    <div id="patches-container" class="patch-list"></div>
  </main>

  <footer>
    &copy; 2025 Minecraft Shaders Repo. All rights reserved.
  </footer>

  <script>
    async function fetchReleases() {
      const container = document.getElementById("patches-container");
      container.innerHTML = "<p>Loading releases...</p>";
      try {
        const res = await fetch("https://api.github.com/repos/hajs110208/mcpatched/releases");
        if (!res.ok) throw new Error("GitHub API request failed");
        const releases = await res.json();
        container.innerHTML = "";
        releases.forEach(release => {
          if (!release.assets || release.assets.length === 0) return;
          const item = document.createElement("div");
          item.className = "patch-item";
          item.innerHTML = `
            <h2>${release.name || release.tag_name}</h2>
            <p>${release.body ? release.body.replace(/\\r?\\n/g, "<br>") : "No description."}</p>
            <div class="downloads">
              ${release.assets.map(asset => `
                <a class="btn" href="${asset.browser_download_url}" target="_blank">${asset.name}</a>
              `).join("")}
            </div>
          `;
          container.appendChild(item);
        });
      } catch (err) {
        console.error("Error loading releases:", err);
        container.innerHTML = "<p>âš  Failed to load releases.</p>";
      }
    }
    document.addEventListener("DOMContentLoaded", fetchReleases);
  </script>
</body>
</html>