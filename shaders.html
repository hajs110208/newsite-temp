<main>
  <h2>Shaders Collection</h2>
  <div id="shader-readme" class="shader-readme">Fetching readme...</div>
</main>

<script>
async function fetchShaderReadme() {
  const container = document.getElementById("shader-readme");
  try {
    // get some things from the repo
    const res = await fetch("https://raw.githubusercontent.com/hajs110208/Render-dragon-shader-list/main/README.md");
    if (!res.ok) throw new Error("Failed to fetch README.md");
    const markdown = await res.text();

    // Convert Markdown -> HTML (basic conversion, lightweight)
    const html = markdown
      .replace(/^### (.*$)/gim, '<h3>$1</h3>')
      .replace(/^## (.*$)/gim, '<h2>$1</h2>')
      .replace(/^# (.*$)/gim, '<h1>$1</h1>')
      .replace(/\*\*(.*?)\*\*/gim, '<b>$1</b>')
      .replace(/\*(.*?)\*/gim, '<i>$1</i>')
      .replace(/\[(.*?)\]\((.*?)\)/gim, '<a href="$2" target="_blank">$1</a>')
      .replace(/\n$/gim, '<br>');

    container.innerHTML = html;
  } catch (err) {
    console.error(err);
    container.innerHTML = "âš  Could not load shaders list.";
  }
}

document.addEventListener("DOMContentLoaded", fetchShaderReadme);
</script>

<style>
  .shader-readme {
    padding: 15px;
    border: 1px solid #ddd;
    border-radius: 6px;
    background: #fafafa;
  }
  .shader-readme h1, .shader-readme h2, .shader-readme h3 {
    margin-top: 1em;
  }
  .shader-readme a {
    color: #0078d7;
    text-decoration: none;
  }
  .shader-readme a:hover {
    text-decoration: underline;
  }
</style>